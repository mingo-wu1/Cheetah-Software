# FloatingBaseModel中的变量构造说明

| 变量名|变量含义|
|---|--------------------|
|gravity|$\left[\begin{matrix} 0\\ 0\\-9.81\end{matrix}\right]$ 重力向量|
|jointAxes|构件i的坐标系下关节转动所绕的轴|
|Xtree|当前构件原点向下一个构件的原点的变换矩阵（也就是因为构件形状带来的平移变换）|
|Xrot|当前转子向下一个转子的变换矩阵|
|Ibody|每一个构件相对于自身转动中心（关节）的转动惯量|
|Irot|类比Ibody，每一个转子相对于自身转动中心（关节）的转动惯量|
|bodyNames|本体组件名字|
|nGroundContact|总的碰撞点数量（从0开始）|
|gcParent|当前碰撞点所属结构件|
|gcLocation|当前碰撞点在所属构件坐标系下的坐标|
|Xtree|当前构件原点向下一个构件的原点的变换矩阵|
|XJ|由于关节的旋转，产生的变换矩阵。因此对于构件i-1到构件i的变换矩阵矩阵$Xup=XJ\cdot Xtree$。从而构件i-1的关节运动向构件i投影，只需要左乘$Xup_{i}$即可|
|XJrot|类比XJ，由于转子的旋转，产生的变换矩阵。|
|pGC|足端世界坐标系的位置|
|vGC|足端世界坐标系的速度|
|compute_contact_info|是否计算碰撞接触信息。从代码看实际上都是True|
|v|每个构件的合速度在自身坐标系的表示。任意构件的速度等于父构件的速度，在该构件的表达，加上本身的运动，$v=Xup_{5} \cdot v_{5} + V_{5}^{J}$|
|vrot|类比v，转子的世界坐标系下的速度在自身坐标系的表达|
|footIndicesGC\_|接触点的序列号|
|state|运动的状态量|
|dState|运动的状态微分量|
|a|构件i的显示加速度（包括重力加速度和关节加速度）在自身坐标系下的投影|
|arot| 类比a，转子i的显示加速度（包括重力加速度和关节加速度）在自身坐标系下的投影       |
|avp|构件i由于坐标系旋转产生的偏执加速度在自身坐标系下的表达|
|avprot|类比avp，转子i由于坐标系旋转产生的偏执加速度在自身坐标系下的表达|
|c|构件i由于坐标系运动产生的加速度，$c=v \times v^{J}$|
|crot|类比c，转子i由于坐标系运动产生的加速度|
|S|通过6维向量记录转轴的类型和转动轴，上3记录转动，下3记录平动，称为运动子空间，也可以理解为选择矩阵。只有运动维数为1，非运动维数为0|
|SVec|速度向量，$S\cdot q$|
|Srot|转子的转动子空间|
|fvp|由构件一阶项产生的作用力，也就是科氏力和离心力的和|
|fvprot|类比fvp，由转子一阶项产生的作用力|
|ag|重力加速度在构件i的坐标系下的表达|
|agrot|类比ag，重力加速度在转子i的坐标系下的表达|
|aGravity|重力加速度的6D表达|
|f|构件i的运动在关节处的6D作用|
|frot|类比f，转子i的运动在关节处的作用力，逆向动力学计算的时候的值|
|U|runABA的参数，目前未解析，对于四足目前用不上|
|Urot,|runABA的参数，目前未解析，对于四足目前用不上|
|Utot|runABA的参数，目前未解析，对于四足目前用不上|
|pA|runABA的参数，目前未解析，对于四足目前用不上|
|pArot|runABA的参数，目前未解析，对于四足目前用不上|
|externalForces|外部作用力，基于世界坐标系|
|IC|以构件i为根节点，所在整棵子树在关节i上的等效转动惯量|
|Xup|从构件i-1到构件i的变换矩阵，对本体而言是世界坐标系到本体的变换矩阵|
|_Xa|世界坐标系的变换矩阵到构件i的变换矩阵|
|Xuprot|类比Xup，转子i相对于转子i-1的变换矩阵，对本体而言是相对于世界坐标系|
|ChiUp|applyTestForce中的参数，目前未解析，对于四足目前用不上|
|H|力平衡公式的质量矩阵|
|C|科氏力和向心力（fvp）的合矩阵|
|Cqd|fvp在关节上的投影，为了求解关节力矩所需要的量|
|G|构件i关节所受重力在i系下的表达|
|J|运动雅可比|
|Jdqd|速度项产生的加速度|
|Jc|接触点的雅可比矩阵，反映的是接触点的作用力到各关节的映射（接触点的运动到各关节的映射）|
|Jcdqd|碰撞检测点的空速度项产生的加速度|
|qdd_from_base_accel||
|qdd_from_subqdd||
|invIA5||
|nDof|物理模形的自由度|
|\_parents|构件i的父构件|
|\_gearRatios|减速比|
|_jointTypes|关节类型 ，固定关节：fixed不允许运动转动关节：revolute，类似与continus,有旋转角度极限滑动关节：prismatic，沿着某一轴线运动的关节，带有位置极限浮动关节：floating，运行进行平移，旋转运动|
