# 1. 前期条件

* 需要使用统一的ubuntu20.04开发环境，可从公司NAS盘下载：`\\bdrfs\博智林\78 基础技术研究院\02 产品开发平台\05-复合机器人组\四足机器人`
* 开发环境与目标机网络互通（目标机默认ip：192.168.12.1）
* **新工程首次编译**跟之前cmake操作时一样，需要执行lcm的生成操作

  ```
  cd scripts
  ./make_types.sh
  ```

# 2. 开发机上一键部署

建议的目录结构如下（**workspace目录下只有一个Cheetah工程，多个会报错**）：

```
├── workspace
│   └── Cheetah
```

执行一键部署脚本（可以在任意目录，只要能执行到**bzl_quadruped_build_and_send.sh脚本**即可）：

```
./workspace/Cheetah/scripts/bzl_quadruped_build_and_send.sh
```

也可以加上不同的编译选项，如：

```
cd workspace/Cheetah
./scripts/bzl_quadruped_build_and_send.sh -DUSE_LINKAGE_INDUSTRIAL=ON -DUSE_LPMSUSBAL2=ON
```

当编译完成后会自动往目标机上发送，需要输入目标机的ssh密码

同时开发机上在Cheetah工程的同级目录会生成3个文件，其中bzl_quadruped_install会发布到目标机

```
├── workspace
│   ├── bzl_quadruped_build
│   ├── bzl_quadruped_install
│   ├── bzl_quadruped_log
│   └── Cheetah
```

当代码有修改时，再次执行脚本会进行增量编译并发布给目标机

# 3. 运行程序（同时适用于开发机与目标机）

```
cd bzl_quadruped_install
source setup.bash
```

此时输入0再按table键，就是所有我们需要运行的程序了

```
user@user-UP-APL01:~/bzl_quadruped_install$ 0
00_run_gamepad.sh      01_run_robot.sh        02_run_sim.sh          03_run_launch_spy.sh   04_run_log_convert.sh
```

默认01_run_robot.sh是运行机器上的程序，即以下两行功能等效

```
01_run_robot.sh
01_run_robot.sh m r f
```

启动仿真的方法：

```
01_run_robot.sh m s
```

# 4. config参数

仿真或运控程序运行时需要加载的参数都在以下路径

```
cd bzl_quadruped_install/bzl_quadruped/config/
```
